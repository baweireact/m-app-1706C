(this["webpackJsonpm-app-test"]=this["webpackJsonpm-app-test"]||[]).push([[3],{189:function(e,t,n){"use strict";n.r(t);var o=n(3),a=n(4),c=n(6),i=n(5),r=n(7),l=n(0),s=n.n(l),p=n(14),u=n(11),h=n(30),d=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(r.a)(t,e),Object(a.a)(t,[{key:"handleAdd",value:function(e){var t=this.props.myBook;t[e].count++;var n=JSON.parse(JSON.stringify(t));this.props.setState("myBook",n)}},{key:"handleSub",value:function(e){var t=this.props.myBook;if(t[e].count>1){t[e].count--;var n=JSON.parse(JSON.stringify(t));this.props.setState("myBook",n)}}},{key:"handleDelete",value:function(e){var t=this.props.myBook;t.splice(e,1);var n=JSON.parse(JSON.stringify(t));this.props.setState("myBook",n)}},{key:"handleSelect",value:function(e,t){var n=this.props.myBook;n[e].checked=t.target.checked;var o=JSON.parse(JSON.stringify(n));this.props.setState("myBook",o)}},{key:"handleSelectAll",value:function(e){var t=this.props.myBook;t.forEach((function(t){t.checked=e.target.checked}));var n=JSON.parse(JSON.stringify(t));this.props.setState("myBook",n)}},{key:"componentDidUpdate",value:function(){var e=this.props.myBook;u.a.update({myBookNew:e}).then((function(e){}))}},{key:"componentDidMount",value:function(){this.props.onDispacth(h.a.getMyBook())}},{key:"render",value:function(){var e=this,t=this.props.myBook,n=t.map((function(t,n){return s.a.createElement("div",{key:t.id},s.a.createElement("input",{type:"checkbox",checked:t.checked,onChange:e.handleSelect.bind(e,n),id:t.id}),s.a.createElement("label",{htmlFor:t.id},t.title),"\uffe5",t.price,s.a.createElement("button",{onClick:e.handleSub.bind(e,n)},"-"),t.count,s.a.createElement("button",{onClick:e.handleAdd.bind(e,n)},"+"),s.a.createElement("button",{onClick:e.handleDelete.bind(e,n)},"\u5220\u9664"))})),o=0,a=0;t.filter((function(e){return e.checked})).forEach((function(e){a+=e.count,o+=e.count*e.price}));var c=t.filter((function(e){return e.checked})).length===t.length&&t.length>0;return s.a.createElement("div",null,n,s.a.createElement("div",null,s.a.createElement("input",{type:"checkbox",checked:c,id:"m-select-all",onChange:this.handleSelectAll.bind(this)}),s.a.createElement("label",{htmlFor:"m-select-all"},"\u5168\u9009")),"\u603b\u4ef7\uff1a\uffe5",o,"\uff0c\u603b\u6570\uff1a",a)}}]),t}(l.Component);t.default=Object(p.b)((function(e){return{myBook:e.myBook,a:[]}}),(function(e){return{setState:function(t,n){e({type:"SET_STATE",key:t,value:n})},onDispacth:function(t){e(t)}}}))(d)}}]);
//# sourceMappingURL=3.cbcc62fe.chunk.js.map